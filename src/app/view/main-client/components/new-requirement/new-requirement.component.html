<app-nav-bar>
  <section class="content-req"> 

    <div class="div-req">
      <form [formGroup]="requirementForm">

        <!-- Lista de tipo de carga -->

        <mat-form-field appearance="fill">
          <mat-label>Tipo de carga</mat-label>
          <mat-select [formControl]="tipoCargaControl" >
            <mat-option *ngFor="let bulk of tiposCarga" [value]="bulk">{{bulk.name}}</mat-option>
          </mat-select>
        </mat-form-field>

        <!-- Lista de productos de carga -->

        <mat-form-field appearance="fill">
          <mat-label>Productos de carga</mat-label>
          <mat-select [formControl]="productoControl" multiple>
            <mat-option *ngFor="let product of productos" [value]="product">{{product.name}}</mat-option>
            
            <mat-form-field appearance="fill">
              <mat-label>Otro:</mat-label>
              <input [formControl]="dataOtroControl" autocomplete="off" matInput>
            </mat-form-field>

          </mat-select>
        </mat-form-field>
        
        <!-- Tabla con los productos de carga que se selecciona  -->

        <section *ngIf="dataOtroControl.value || productoControl.value">

          <h3 >Lista de productos:</h3>
          <table  class="default">
            <tr class="table-header">
              <th>Producto</th>
              <td>Cantidad</td>
            </tr>
            <ng-container formArrayName="cantidadesControl">
              <tr *ngFor="let control of itemsSeleccionados; index as i">
                
                  <th  >{{itemsSeleccionados[i].name}}</th>
                  <td ><input [formControlName]="i"  name="item" ></td> 
  
              </tr>
            </ng-container>
            <!-- <tr *ngIf="dataOtroControl.value">
              <th  >{{dataOtroControl.value}}</th>
              <td ><input  name="quantity" /></td> 
            </tr> -->
          </table>
        
        </section>

        <!-- Datos de recojo -->

        <mat-form-field appearance="fill">
          <mat-label>Datos de recojo</mat-label>
          <mat-select [formControl]="dataRecojoControl" name="origin" >
            <mat-option>None</mat-option>
            <mat-option *ngFor="let origin of recojos" [value]="origin.id">
              {{origin.name}}
            </mat-option>
          </mat-select>
        </mat-form-field>
        
        <!-- Datos de destino -->

        <mat-form-field appearance="fill">
          <mat-label>Datos de destino</mat-label>
          <mat-select  name="destination">
            <mat-option *ngFor="let destination of destinos" [value]="destination.id">
              {{destination.name}}
            </mat-option>
          </mat-select>
        </mat-form-field>

        <!-- Datos del contacto -->

        <mat-form-field appearance="fill">
          <mat-label>Direcci√≥n destino</mat-label>
          <input class="input-color-text" autocomplete="off" matInput>
        </mat-form-field>

        <mat-form-field appearance="fill">
            <mat-label>Nombre completo</mat-label>
            <input class="input-color-text" autocomplete="off" matInput>
        </mat-form-field>

        <mat-form-field appearance="fill">
          <mat-label>Celular</mat-label>
          <input class="input-color-text" autocomplete="off" matInput>
        </mat-form-field> 

        <mat-form-field appearance="fill">
          <mat-label>Horario de despacho</mat-label>
          <input class="input-color-text" autocomplete="off" matInput>
        </mat-form-field> 

        <mat-form-field appearance="fill">
          <mat-label>Monto total</mat-label>
          <input class="input-color-text" autocomplete="off" matInput>
        </mat-form-field> 

      </form>

      <button mat-button  (click)="publish()" >Publicar</button> <!-- [disabled]="requirementForm.invalid" -->
    </div>
  </section>
</app-nav-bar>